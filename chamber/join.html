<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Chamber of Commerce — Join</title>
  <meta name="description" content="Apply to join the Chamber of Commerce" />
  <!-- Link to provided styles -->
  <link rel="stylesheet" href="styles/reset.css" />
  <link rel="stylesheet" href="styles/styles.css" />
  <style>
    /* Page-specific layout for join page */
    main.site-main {
      max-width: 1100px;
      margin: 1.25rem auto;
      padding: 1rem;
      display: grid;
      gap: 1rem;
      grid-template-columns: 1fr;
    }
    .form-area {
      background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
      padding: 1rem;
      border-radius: .75rem;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
    }
    .layout {
      display: grid;
      gap: 1rem;
      grid-template-columns: 1fr;
    }
    @media (min-width:920px){
      .layout{ grid-template-columns: 1fr 360px; align-items: start; }
    }

    /* Form styling */
    form#joinForm { display: grid; gap: .75rem; }
    label.field {
      display: flex;
      flex-direction: column;
      gap: .35rem;
      font-size: .95rem;
    }
    input[type="text"],
    input[type="email"],
    input[type="tel"],
    textarea,
    select {
      background: transparent;
      border: 1px solid var(--border);
      padding: .6rem .7rem;
      border-radius: .5rem;
      color: var(--text);
      outline: none;
    }
    input:focus, textarea:focus, select:focus {
      box-shadow: 0 0 0 3px rgba(15,118,110,.12);
      border-color: var(--accent);
    }
    .row { display: grid; gap: .75rem; grid-template-columns: 1fr; }
    @media (min-width:720px){ .row.two { grid-template-columns: 1fr 1fr; } }

    /* Membership cards area */
    .cards-panel {
      display: grid;
      gap: 1rem;
      align-content: start;
    }
    .membership-cards {
      display: grid;
      gap: .75rem;
      grid-template-columns: 1fr;
    }
    .membership-card {
      padding: .9rem;
      border-radius: .75rem;
      border: 1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,.01), rgba(0,0,0,.02));
      transform: translateY(8px);
      opacity: 0;
      animation: cardIn .6s forwards;
      /* We will stagger using inline style animation-delay */
    }
    .membership-card h4 { margin: 0 0 .25rem; }
    .membership-card p { margin: 0 0 .5rem; color: var(--muted); font-size: .92rem; }
    .membership-card a.info-link {
      display:inline-block; padding:.45rem .65rem; border-radius:.5rem; border:1px solid var(--accent);
      text-decoration:none;
    }
    .membership-card a.info-link:focus { box-shadow: 0 0 0 4px rgba(34,197,94,.12); }

    @keyframes cardIn {
      from { transform: translateY(18px); opacity: 0; }
      to   { transform: translateY(0); opacity: 1; }
    }

    /* subtle highlight for NP (no fee) */
    .badge-np {
      display:inline-block; padding:.25rem .5rem; border-radius:.45rem; margin-left:.5rem;
      background: linear-gradient(145deg, #dbeafe, #d1fae5); color: #072a28; font-weight:600;
    }

    /* Modal styling (dialog fallback) */
    dialog.modal {
      border: none;
      border-radius: .75rem;
      padding: 1rem;
      width: min(520px, 92%);
      background: linear-gradient(180deg, var(--panel), rgba(0,0,0,.02));
      color: var(--text);
      box-shadow: var(--shadow);
    }
    .modal h3 { margin-top: 0; }
    .modal .close-btn {
      margin-top: 1rem;
      padding:.5rem .8rem;
      border-radius:.6rem;
      border: 1px solid var(--border);
      background: transparent;
      cursor: pointer;
    }

    /* Note: ensure good tab order: form inputs first, membership radios next */
    .membership-options { display: grid; gap:.5rem; margin-top:.5rem; }
    .submit-row { display:flex; justify-content:flex-end; gap:.5rem; margin-top:.5rem; }
    input[type="submit"]{
      padding:.6rem .9rem; border-radius:.6rem; border: none; cursor: pointer;
      background: linear-gradient(145deg, var(--accent), var(--accent-2)); color: #00110f; font-weight:700;
    }
  </style>
</head>
<body>
  <header class="site-header" role="banner">
    <div class="brand">
      <div class="logo">
        <div class="logo-mark" aria-hidden="true">C</div>
        <div>
          <div class="brand-text">Eniborah Chamber</div>
          <div style="font-size:.85rem;color:var(--muted)">Join our community</div>
        </div>
      </div>
      <button class="nav-toggle" aria-expanded="false" aria-controls="primaryNav">Menu</button>
    </div>

    <nav id="primaryNav" class="primary-nav" role="navigation" aria-label="Primary">
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="directory.html">Directory</a></li>
        <li><a class="active" href="join.html">Join</a></li>
        <li><a href="about.html">About</a></li>
      </ul>
    </nav>
  </header>

  <section class="hero compact" role="region" aria-labelledby="joinHeading">
    <div class="directory" style="padding-top:.75rem">
      <h1 id="joinHeading">Become a Member</h1>
      <p>Complete the application below to join the chamber. Required fields will appear on the confirmation page.</p>
    </div>
  </section>

  <main class="site-main" role="main" aria-labelledby="joinHeadingMain">
    <div class="layout">
      <!-- Form area -->
      <section class="form-area" aria-labelledby="applyNow">
        <h2 id="applyNow">Application</h2>

        <form id="joinForm" method="get" action="thankyou.html" novalidate>
          <!-- First + Last -->
          <div class="row two">
            <label class="field">
              <span>First name <span aria-hidden="true" style="color:var(--accent)">*</span></span>
              <input type="text" name="firstName" id="firstName" title="Applicant first name" autocomplete="given-name" required />
            </label>

            <label class="field">
              <span>Last name <span aria-hidden="true" style="color:var(--accent)">*</span></span>
              <input type="text" name="lastName" id="lastName" title="Applicant last name" autocomplete="family-name" required />
            </label>
          </div>

          <!-- Org Title -->
          <label class="field">
            <span>Organizational title</span>
            <input
              type="text"
              name="orgTitle"
              id="orgTitle"
              title="Your title within the organization. Minimum 7 characters; letters, hyphens and spaces only."
              autocomplete="organization-title"
              pattern="[A-Za-z\s\-]{7,}"
              placeholder="e.g. Communications Director"
              aria-describedby="orgTitleHelp"
            />
            <small id="orgTitleHelp" style="color:var(--muted);">Only letters, spaces, or hyphens. Minimum 7 characters.</small>
          </label>

          <!-- Email -->
          <label class="field">
            <span>Email address <span aria-hidden="true" style="color:var(--accent)">*</span></span>
            <input type="email" name="email" id="email" title="Email address" autocomplete="email" required placeholder="name@example.com" />
          </label>

          <!-- Mobile phone -->
          <label class="field">
            <span>Mobile phone <span aria-hidden="true" style="color:var(--accent)">*</span></span>
            <input type="tel" name="phone" id="phone" title="Mobile phone number" autocomplete="tel" required placeholder="+234 800 000 0000" />
          </label>

          <!-- Business name -->
          <label class="field">
            <span>Business / Organization name <span aria-hidden="true" style="color:var(--accent)">*</span></span>
            <input type="text" name="business" id="business" title="Your business or organization name" autocomplete="organization" required />
          </label>

          <!-- Membership selection (radio) -->
          <fieldset style="border:0;padding:0;margin:0">
            <legend style="font-weight:700;margin-bottom:.35rem">Membership level</legend>
            <div class="membership-options" role="radiogroup" aria-labelledby="membershipLabel">
              <label style="display:flex;align-items:center;gap:.5rem">
                <input type="radio" name="membership" value="NP Membership" checked />
                <span>NP Membership <span class="badge-np">No fee</span></span>
              </label>
              <label style="display:flex;align-items:center;gap:.5rem">
                <input type="radio" name="membership" value="Bronze Membership" />
                <span>Bronze Membership</span>
              </label>
              <label style="display:flex;align-items:center;gap:.5rem">
                <input type="radio" name="membership" value="Silver Membership" />
                <span>Silver Membership</span>
              </label>
              <label style="display:flex;align-items:center;gap:.5rem">
                <input type="radio" name="membership" value="Gold Membership" />
                <span>Gold Membership</span>
              </label>
            </div>
          </fieldset>

          <!-- Business description -->
          <label class="field">
            <span>Business / Organization description</span>
            <textarea name="description" id="description" title="Describe your business or organization" rows="4"></textarea>
          </label>

          <!-- Hidden timestamp -->
          <input type="hidden" name="timestamp" id="timestamp" />

          <div class="submit-row">
            <input type="submit" value="Submit application" aria-label="Submit application" />
          </div>
        </form>
      </section>

      <!-- Cards panel -->
      <aside class="cards-panel" aria-labelledby="levelsHeading">
        <h3 id="levelsHeading">Membership Levels</h3>

        <div class="membership-cards" id="membershipCards">
          <article class="membership-card" data-level="0" style="animation-delay:.05s">
            <h4>NP Membership <span class="badge-np">No fee</span></h4>
            <p>For non-profit organizations. Includes listing in our directory and event updates.</p>
            <a href="#np" class="info-link" data-modal="modal-np">More info</a>
          </article>

          <article class="membership-card" data-level="1" style="animation-delay:.15s">
            <h4>Bronze Membership</h4>
            <p>Entry-level paid membership — promotional listing, event discounts.</p>
            <a href="#bronze" class="info-link" data-modal="modal-bronze">More info</a>
          </article>

          <article class="membership-card" data-level="2" style="animation-delay:.25s">
            <h4>Silver Membership</h4>
            <p>Includes Bronze benefits plus training access and highlighted directory position.</p>
            <a href="#silver" class="info-link" data-modal="modal-silver">More info</a>
          </article>

          <article class="membership-card" data-level="3" style="animation-delay:.35s">
            <h4>Gold Membership</h4>
            <p>All benefits: featured spotlight on homepage, priority event sponsorship opportunities.</p>
            <a href="#gold" class="info-link" data-modal="modal-gold">More info</a>
          </article>
        </div>
      </aside>
    </div>
  </main>

  <!-- Modals: use <dialog> where supported, otherwise fallback to hidden div -->
  <dialog id="modal-np" class="modal" aria-labelledby="npTitle">
    <h3 id="npTitle">NP Membership — Benefits</h3>
    <p>No fee. Benefits include: directory listing, community newsletter, event invites, volunteer coordination support.</p>
    <button class="close-btn" data-close>Close</button>
  </dialog>

  <dialog id="modal-bronze" class="modal" aria-labelledby="bronzeTitle">
    <h3 id="bronzeTitle">Bronze Membership — Benefits</h3>
    <p>Discounted event tickets, basic promotional listing, access to member resources, and event notices.</p>
    <button class="close-btn" data-close>Close</button>
  </dialog>

  <dialog id="modal-silver" class="modal" aria-labelledby="silverTitle">
    <h3 id="silverTitle">Silver Membership — Benefits</h3>
    <p>All Bronze benefits + training sessions, featured directory placement, and monthly spotlight opportunities.</p>
    <button class="close-btn" data-close>Close</button>
  </dialog>

  <dialog id="modal-gold" class="modal" aria-labelledby="goldTitle">
    <h3 id="goldTitle">Gold Membership — Benefits</h3>
    <p>All Silver benefits + homepage advertising spotlights, priority sponsorship, and premium event access.</p>
    <button class="close-btn" data-close>Close</button>
  </dialog>

  <footer class="site-footer" role="contentinfo">
    <div class="footer-grid">
      <div>
        <h3>Eniborah Chamber</h3>
        <p class="dev-info">Connecting businesses & communities.</p>
      </div>
      <div>
        <h3>Contact</h3>
        <ul class="contact-list">
          <li>info@eniborah.example</li>
          <li>+234 800 000 0000</li>
        </ul>
      </div>
      <div>
        <h3>Links</h3>
        <ul class="contact-list">
          <li><a href="index.html">Home</a></li>
          <li><a href="directory.html">Directory</a></li>
        </ul>
      </div>
    </div>
  </footer>

  <script>
    // set timestamp when page loads
    (function(){
      const ts = document.getElementById('timestamp');
      if(ts){
        // ISO string is precise and easy to read programmatically
        ts.value = new Date().toISOString();
      }

      // Modal handling: open dialog where available, fallback to alert
      function openModal(id){
        const dlg = document.getElementById(id);
        if(!dlg) return;
        if(typeof dlg.showModal === 'function'){
          dlg.showModal();
          // focus inside
          const btn = dlg.querySelector('[data-close]');
          if(btn) btn.focus();
        } else {
          // fallback - basic accessible substitute: create overlay or use alert
          alert(dlg.querySelector('h3')?.textContent + '\n\n' + dlg.querySelector('p')?.textContent);
        }
      }
      function closeModal(el){
        if(typeof el.close === 'function') el.close();
      }

      // attach link handlers
      document.querySelectorAll('.info-link').forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const modalId = link.dataset.modal;
          if(modalId) openModal(modalId);
        });
      });

      // close buttons
      document.querySelectorAll('[data-close]').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const dlg = btn.closest('dialog');
          if(dlg) closeModal(dlg);
        });
      });

      // allow Esc to close any open dialog
      document.addEventListener('keydown', (e) => {
        if(e.key === 'Escape'){
          document.querySelectorAll('dialog[open]').forEach(d => {
            try { d.close(); } catch(err){}
          });
        }
      });

      // small enhancement: keyboard focus outlines for nav toggle (simple)
      const navToggle = document.querySelector('.nav-toggle');
      const primaryNav = document.getElementById('primaryNav');
      if(navToggle && primaryNav){
        navToggle.addEventListener('click', () => {
          const open = navToggle.getAttribute('aria-expanded') === 'true';
          navToggle.setAttribute('aria-expanded', String(!open));
          primaryNav.classList.toggle('open');
        });
      }
    })();
  </script>
</body>
</html>